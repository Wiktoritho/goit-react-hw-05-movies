"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[303],{6303:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var s=t(2791),n=t(7689),i=t(5861),a=t(9439),c=t(4687),u=t.n(c),o=t(1243),l=t(6604),v=l[0].q1,h=l[0].FH;var d={header:"Reviews_header__ftAhl",list:"Reviews_list__NQ-t6",listItem:"Reviews_listItem__sg67n",author:"Reviews_author__k48Q8",review:"Reviews_review__uJs0Z"},_=t(3540),f=t(184);function w(){var e=function(e){var r=(0,s.useState)([]),t=(0,a.Z)(r,2),n=t[0],c=t[1],l=(0,s.useState)(!1),d=(0,a.Z)(l,2),_=d[0],f=d[1],w=(0,s.useState)(null),m=(0,a.Z)(w,2),g=m[0],p=m[1];return(0,s.useEffect)((function(){var r=function(){var r=(0,i.Z)(u().mark((function r(){var t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return c([]),r.abrupt("return");case 3:return f(!0),r.prev=4,r.next=7,o.Z.get("".concat(h,"movie/").concat(e,"/reviews?api_key=").concat(v,"&language=en-US&page=1"));case 7:200===(t=r.sent).status?c(t.data.results):p("Error fetching movie reviews."),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),p(r.t0.message);case 14:f(!1);case 15:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]),{reviews:n,isLoading:_,error:g}}((0,n.UO)().movieId),r=e.reviews,t=e.isLoading,c=e.error;return t?(0,f.jsx)("div",{children:"Loading..."}):c?(0,f.jsxs)("div",{children:["Error: ",c]}):r&&0!==r.length?(console.log(r[1].content),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h1",{className:d.header,children:"Reviews"}),(0,f.jsx)("ul",{className:d.list,children:r.map((function(e){var r=(0,_.ZP)(e.content);return(0,f.jsxs)("li",{className:d.listItem,children:[(0,f.jsx)("h3",{className:d.author,children:e.author}),(0,f.jsx)("p",{className:d.review,children:r})]},e.id)}))})]})):(0,f.jsx)("div",{children:"No reviews found for this movie."})}}}]);
//# sourceMappingURL=303.fa661379.chunk.js.map